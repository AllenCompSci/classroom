<div class="site-content">
  <div class="stafftools-page-header clearfix">
    <span class="assignment-icon assignment-icon-individual left">
      <%= octicon 'person', height: 22 %>
    </span>

    <h2 class="stafftools-heading">
      <%= @assignment.title %>
    </h2>

    <p class="assignment-type text-muted">Individual assigment</p>
  </div>

  <div class="boxed-group">
    <h3>Assignment information</h3>

    <div class="boxed-group-inner">
      <table>
        <tr>
          <td class="text-emphasized">ID</td>
          <td><%= @assignment.id %></td>
        </tr>
        <tr>
          <td class="text-emphasized">Owned by</td>
          <td><%= link_to @assignment.organization.title, stafftools_organization_path(@assignment.organization.id) %></td>
        </tr>
        <tr>
          <td class="text-emphasized">Created by</td>
          <td><%= link_to @assignment.creator.github_user.login, stafftools_user_path(@assignment.creator) %></td>
        </tr>
        <tr>
          <td class="text-emphasized">Private</td>
          <td><%= @assignment.private?.to_s %></td>
        </tr>
        <tr>
          <td class="text-emphasized">Student admins enabled</td>
          <td><%= @assignment.students_are_repo_admins?.to_s %></td>
        </tr>
        <% if @assignment.starter_code? %>
        <tr>
          <td class="text-emphasized">Starter code</td>
          <td><%= link_to @assignment.starter_code_repository.html_url, @assignment.starter_code_repository.html_url %></td>
        </tr>
        <% end %>
        <tr>
          <td class="text-emphasized">Invitation</td>
          <td><%= link_to @assignment.assignment_invitation.key, stafftools_assignment_invitation_path(@assignment.assignment_invitation.id) %></td>
        </tr>
        <tr>
          <td class="text-emphasized">Created on</td>
          <td><%= local_time(@assignment.created_at) %></td>
        </tr>
        <tr>
          <td class="text-emphasized">Last updated</td>
          <td><%= local_time(@assignment.created_at) %></td>
        </tr>
      </table>
    </div>
  </div>

  <% if @assignment.assignment_repos.present? %>
    <div class="boxed-group">
      <h3>Assignment repositories</h3>

      <div class="boxed-group-inner">
        <ul class="boxed-group-list standalone">
          <%= render partial: 'stafftools/assignments/assignment_repo', collection: @assignment.assignment_repos %>
        </ul>
      </div>
    </div>
  <% end %>

  <div class="boxed-group dangerzone">
    <h3>Delete assignment</h3>
    <div class="boxed-group-inner">
      <p>This will remove the assignment from GitHub Classroom. Along with the assignment repos, and their linked GitHub repositories</p>
      <p>
        <a data-remodal-target="delete-assignment" class="btn btn-danger">Delete this assignment</a>
      </p>
    </div>
  </div>

  <div class="remodal text-left" data-remodal-id="delete-assignment">
    <button data-remodal-action="close" class="remodal-close"><%= octicon 'x' %></button>
    <h2 class="remodal-header">Are you ABSOLUTELY sure?</h2>

    <div class="remodal-warning">
      This action <strong>CANNOT</strong> be undone.
    </div>

    <%= form_for stafftools_assignment_path(@assignment), html: { method: 'delete' } do |f| %>
      <%= f.submit 'Delete this assignment', class: 'btn btn-danger btn-block' %>
    <% end %>
  </div>
</div>
